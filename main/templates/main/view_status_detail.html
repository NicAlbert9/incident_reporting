{% extends 'main/index.html' %}
{% block body %}
<div class="container py-5">

  <h3 class="text-center text-danger fw-bold mb-5">
    <i class="fas fa-info-circle me-2"></i>View Status Detail
  </h3>

  <div class="card shadow-sm mb-4 border-0">
    <div class="card-header bg-danger text-white fw-semibold">
      <i class="fas fa-user me-2"></i>Personal Information
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle">
          <thead class="table-light text-center">
            <tr>
              <th>Name</th>
              <th>Mobile</th>
              <th>Location</th>
              <th>Message</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr>
              <td>{{ form.name }}</td>
              <td>{{ form.mobile }}</td>
              <td>{{ form.location }}</td>
              <td>{{ form.message }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="card shadow-sm mb-4 border-0">
    {% if form.AssignTo %}
    <div class="card-header bg-danger text-white text-center fw-semibold">
      <i class="fas fa-users-cog me-2"></i>Assigned Details
    </div>
    <div class="card-body">
      <table class="table table-striped table-bordered align-middle">
        <tbody>
          <tr>
            <th>Team Name</th>
            <td>{{ form.AssignTo.team_name }}</td>
          </tr>
          <tr>
            <th>Team Leader Name</th>
            <td>{{ form.AssignTo.team_lead }}</td>
          </tr>
          <tr>
            <th>TL Mobile No.</th>
            <td>{{ form.AssignTo.lead_number }}</td>
          </tr>
          <tr>
            <th>Team Members</th>
            <td>{{ form.AssignTo.team_member }}</td>
          </tr>
          <tr>
            <th>Reporting Time</th>
            <td>{{ form.AssignTo.postingDate }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="card-body text-center">
      <div class="alert alert-warning mb-0 shadow-sm" role="alert">
        <i class="fas fa-clock me-2"></i><strong>Not Updated Yet</strong>
      </div>
    </div>
    {% endif %}
  </div>

  <div class="card shadow-sm border-0">
    <div class="card-header bg-danger text-white text-center fw-semibold">
      <i class="fas fa-map-marker-alt me-2"></i>Tracking History
    </div>
    <div class="card-body">
      {% if count == 0 %}
      <div class="text-center text-muted">
        <i class="fas fa-info-circle fa-2x mb-3"></i>
        <h5 class="mb-0">No tracking history found</h5>
      </div>
      {% else %}
      <div class="table-responsive">
        <table class="table table-bordered table-striped align-middle">
          <thead class="table-light text-center text-danger">
            <tr>
              <th colspan="3">Request Track History</th>
            </tr>
            <tr>
              <th>Remark</th>
              <th>Status</th>
              <th>Remark Date</th>
            </tr>
          </thead>
          <tbody class="text-center">
            {% for i in form1 %}
            <tr>
              <td>{{ i.remark }}</td>
              <td>{{ i.status }}</td>
              <td>{{ i.PostingDate }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
  </div>

</div>
{% endblock body %}
